{"version":3,"sources":["js/apiService.js","js/index.js"],"names":["PhotosApiService","searchQuery","page","console","log","fetch","staticUrl","then","response","json","data","newQuery","refs","searchFormElt","document","querySelector","searchMoreButtonElt","galleryElt","photosApiService","onSearch","e","preventDefault","query","currentTarget","elements","value","fetchPhotos","onSearchMore","addEventListener"],"mappings":";AA+BE,aAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EA/BmBA,IAAAA,EAAAA,WACL,SAAA,IAAA,EAAA,KAAA,GACPC,KAAAA,YAAc,KACdC,KAAAA,KAAO,EA4Bd,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,cAzBA,MAAA,WAAc,IAAA,EAAA,KAGZC,QAAQC,IAAI,MAEZC,MACKC,GAAAA,OALa,mEAKE,OAAA,OAAA,KAAKL,YAAoB,UAAA,OAAA,KAAKC,KADlD,wDAGGK,KAAK,SAAAC,GAAYA,OAAAA,EAASC,SAC1BF,KAAK,SAAAG,GACJP,QAAQC,IAAI,GACZ,EAAKF,MAAQ,MAcnB,CAAA,IAAA,QANA,IAAA,SAAUS,GACHV,KAAAA,YAAcU,MAKrB,EA/BmBX,GA+BnB,QAAA,QAAA;;ACPD,aAxBD,IAAA,EAAA,EAAA,QAAA,iBAwBC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAtBD,IAAMY,EAAO,CACXC,cAAeC,SAASC,cAAc,gBACtCC,oBAAqBF,SAASC,cAAc,uBAC5CE,WAAYH,SAASC,cAAc,aAG/BG,EAAmB,IAAIlB,EAAJ,QAKzB,SAASmB,EAASC,GAChBA,EAAEC,iBAEFH,EAAiBI,MAAQF,EAAEG,cAAcC,SAASF,MAAMG,MACxDP,EAAiBhB,KAAO,EAExBgB,EAAiBQ,cAGnB,SAASC,EAAaP,GACpBF,EAAiBQ,cAbnBd,EAAKC,cAAce,iBAAiB,SAAUT,GAC9CP,EAAKI,oBAAoBY,iBAAiB,QAASD","file":"js.418611dc.js","sourceRoot":"../src","sourcesContent":["export default class PhotosApiService {\n  constructor() {\n    this.searchQuery = null;\n    this.page = 1;\n  }\n\n  fetchPhotos() {\n    const staticUrl = 'https://pixabay.com/api/?image_type=photo&orientation=horizontal';\n\n    console.log(this);\n\n    fetch(\n      `${staticUrl}&q=${this.searchQuery}&page=${this.page}&per_page=12&key=23038692-8ee91ca42b74ab69b2665b678`,\n    )\n      .then(response => response.json())\n      .then(data => {\n        console.log(this);\n        this.page += 1;\n      });\n  }\n\n  //   get query() {\n  //     return this.searchQuery;\n  //   }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  //   resetPage() {\n  //     this.page = 1;\n  //   }\n}\n","import PhotosApiService from './apiService';\n\nconst refs = {\n  searchFormElt: document.querySelector('#search-form'),\n  searchMoreButtonElt: document.querySelector('#search-more-button'),\n  galleryElt: document.querySelector('.gallery'),\n};\n\nconst photosApiService = new PhotosApiService();\n\nrefs.searchFormElt.addEventListener('submit', onSearch);\nrefs.searchMoreButtonElt.addEventListener('click', onSearchMore);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  photosApiService.query = e.currentTarget.elements.query.value;\n  photosApiService.page = 1;\n  //   photosApiService.resetPage();\n  photosApiService.fetchPhotos();\n}\n\nfunction onSearchMore(e) {\n  photosApiService.fetchPhotos();\n}\n"]}